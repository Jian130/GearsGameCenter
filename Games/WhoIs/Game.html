<html>
<head>
	<script type="text/javascript" src="whois.js"></script>
	<script type="text/javascript" src="client-network.js"></script>
</head>
<body>
	<div id="GameEnter">
		<label>Name:</label>
		<input id="Username" type="text"><br>
		<button onclick="ReadyButtonClick()" >Ready</button>

		<button onclick="StartButtonClick()" >Start</button>
		<p hidden>Waiting for other players...</p>
		<div class="UsersListHolder"> 
			<ul id="UsersReadyList">
				<li>haha</li>
			</ul>
		</div>
	</div>
	<div id="GameOn" hidden>
		<div class="QuestionHolder"> 
			<h3>Answer it</h3>
		</div>
		<div class="UsersListHolder"> 
			<ul id="UsersList">
				<li>haha</li>
			</ul>
		</div>

	</div>
	<div id="GameResult" hidden>
		<div class="QuestionHolder">
			<h3>Answer it</h3>
		</div>
		<div class="UsersListHolder">
			<ol id="UsersRankList">
				<li>haha</li>
			</ol>
		</div>
		<button onclick="ReadyButtonClick()">Next</button>

	</div>
</body>
<script type="text/javascript">
	
	function UpdateGameEnterPage(){

	}
	function StartButtonClick(){
		startGame();
	}
	function ReadyButtonClick(){
		
		document.getElementsByTagName("p")[0].removeAttribute("hidden");
		var name=document.getElementById("Username").value;
		
		UserIsReady(name);
	}
	function DisplayQuestion(){
		//GetUsersList()
		//{Username:'Greg',Rank:1,Count:3}

		// cleaer View
		document.getElementById("GameResult").setAttribute("hidden",true);
		document.getElementById("GameEnter").setAttribute("hidden",true);

		document.getElementById("GameOn").removeAttribute("hidden");
		document.getElementsByTagName("p")[0].setAttribute("hidden", true);


		var userList = GetGameUsersList();
		var Ulist= document.getElementById("UsersList");
		Ulist.innerHTML='';
			
		for(var user in userList){
			console.log(user);
			Ulist.innerHTML+="<li><button onclick='"+"ListItemClick("+user.Username+")"+"'>"+user.Username+"</button></li>";


		}



	};
	function DisplayResults(){
		//hide previouse view and display new view
		document.getElementById("GameOn").setAttribute("hidden",true);
		document.getElementById("GameResult").removeAttribute("hidden");

		var userList = GetGameUsersList();
		var Ulist= document.getElementById("UsersRankList");
			Ulist.innerHTML='';
		for(var i=0 ;i<userList.length;i++){
			var user;
			for(var j=0;j<userList.length;j++){
				if (userList[j].Rank==i+1) {
					user=userList[j]

				 };
			}
			
			Ulist.innerHTML+="<li>"+user.Username+" vote:"+user.Rank+"</li>";

		}

	}
	function ListItemClick(name){
		answerQuestion(name);
	}
	

	//should be implement in whois.hs

	//
	/*
	function UserIsReady(name){
		DisplayQuestion();
	}
	function GetUsersList(){
		return [{Username:'greg',Rank:1,Count:1},{Username:'greg',Rank:2,Count:1}];
	}
	function UserPicked(name){
		DisplayResult();

	}
	*/

</script>
</html>

